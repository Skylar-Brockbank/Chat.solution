@{
  Layout = "_Layout";
}
@using Chat.Models
<meta http-equiv="refresh" content="5" />

<h2>Get your chat on you two!</h2>

@if(@Model.Count == 0)
{
  <p>There are no messages with this user</p>
}
else
{
  @* =====================all of this will need to go into a partial view=========================== *@
  <div id="message-box">
  @foreach(Message m in Model)
  {
    if(m.SenderId==ViewBag.MyId)
    {
    <p>@ViewBag.MyName.UserName: @m.Text </p>
    }else
    {
      <p>@ViewBag.OtherName.UserName: @m.Text </p>
    }
  }
  </div>
  @* ====================End of partial view items ==========================*@
  @*
  You're planning to make a javascript file that's availible from the root directory.
  Then you're gonna rig it to grab a spcified div and load a partial view every 1000 miliseconds
  see => https://www.c-sharpcorner.com/blogs/auto-refresh-a-partial-view-of-a-page-in-mvc1
  *@
}

  <form action="Details" method="POST">
    <input name = "msg" id = "msg" type = "text">
    <input type = "submit" value="SEND IT I DARE YOU! Coward">
    <input type="hidden" name="idtest" id = "idtest" value=@ViewBag.OtherId>
    <input type="hidden" name="metest" id = "metest" value =@ViewBag.myId>
  </form>

